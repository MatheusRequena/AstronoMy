<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="StyleAstronoMy.css">
    <link rel="icon" href="img/GalaxiaAstronoMy.png">
    <script src="./js/sessao.js"></script>
    <title>AstronoMy | Quiz Sistema Solar</title>
</head>

<body class="quiz" onload="validarSessao()">

    <!-- Header -->
    <div class="header" id="header"></div>

    <!-- Conteúdo da Tela -->
    <div id="tela" class="tela">
        <h1>QUANDO SE SENTIR PRONTO, COMECE A RESPONDER AS PERGUNTAS!</h1>
        <h3>Clique em "responda" para escolher a alternativa que deseja</h3>

        <div class="botoes">
            <button onclick="estudo()">ESTUDAR</button>
            <button onclick="acertou()">COMEÇAR</button>
        </div>
    </div>


    <!-- Footer -->
    <div class="footer">
        <span>Copyright 2024 &copy; Designed by Matheus Requena</span>
    </div>
</body>

</html>

<script>

    // Variaveis para criação de Header
    var index = `link`
    var estudar = `atual`
    var home = false

    // Variaveis para auxiliar no quiz
    var pergunta = 0
    var acerto = 0
    var mensagem = ''

    function estudo() {
        window.location.href = 'EstudoPlanetasAstronoMy.html'
    }

    function voltar() {
        window.location.href = 'EstudarAstronoMy.html'
    }

    function repetir() {
        window.location.href = 'QuizPlanetasAstronoMy.html'
    }

    function acertou() {
        pergunta++

        if (pergunta == 1) {
            tela.innerHTML = `
            <h1>PERGUNTA 1</h1>

            <p>O Sol é uma bola de fogo?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Sim</option>
                <option value="certo">Não</option>
            </select>
            `
        } else if (pergunta == 2) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 2</h1>

            <p>Qual o planeta mais quente do Sistema Solar?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Netuno</option>
                <option value="errado">Mercúrio</option>
                <option value="certo">Vênus</option>
                <option value="errado">Marte</option>
            </select>
            `
        } else if (pergunta == 3) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 3</h1>

            <p>Qual o maior planeta do Sistema Solar?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Saturno</option>
                <option value="errado">Urano</option>
                <option value="certo">Júpiter</option>
            </select>
            `
        } else if (pergunta == 4) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 4</h1>

            <p>Onde está localizada a maior montanha do Sistema Solar? E qual seu nome?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="certo">Marte, Monte Olimpo</option>
                <option value="errado">Vênus, Monte Vulcanico</option>
                <option value="errado">Terra, Monte Everest</option>
                <option value="errado">Mercúrio, Monte Everest</option>
            </select>
            `
        } else if (pergunta == 5) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 5</h1>

            <p>Qual desses planetas têm mais luas?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Marte</option>
                <option value="certo">Saturno</option>
                <option value="errado">Netuno</option>
                <option value="errado">Júpiter</option>
            </select>
            `
        } else if (pergunta == 6) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 6</h1>

            <p>Quantos planetas com anéis temos no Sistema Solar?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Apenas um</option>
                <option value="errado">Dois planetas</option>
                <option value="errado">Três planetas</option>
                <option value="certo">Quatro planetas</option>
                <option value="errado">Cinco planetas</option>
            </select>
            `
        } else if (pergunta == 7) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 7</h1>

            <p>Qual desses planetas está mais distante do Sol?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Vênus</option>
                <option value="certo">Netuno</option>
                <option value="errado">Júpiter</option>
                <option value="errado">Urano</option>
            </select>
            `
        } else if (pergunta == 8) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 8</h1>

            <p>Qual destes plantas é o mais frio?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="certo">Urano</option>
                <option value="errado">Netuno</option>
                <option value="errado">Terra</option>
                <option value="errado">Saturno</option>
            </select>
            `
        } else if (pergunta == 9) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 9</h1>

            <p>Qual dessas carácteristicas pertence a Vênus?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">É um planeta gasoso</option>
                <option value="certo">Sua rotação é inversa aos outros planetas</option>
                <option value="errado">É o menor planeta do Sistema Solar</option>
            </select>
            `
        } else if (pergunta == 10) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 10</h1>

            <p>Qual dessas características não é verdadeira sobre o Sistema Solar?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Todos os planetas gasoso têm anéis</option>
                <option value="errado">Vênus é o segundo planeta do sistema em relação ao Sol</option>
                <option value="certo">A grande mancha vermelha pertence a Marte</option>
                <option value="errado">O sistema possui 8 planetas</option>
            </select>
            `
        } else if (pergunta == 11) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 11</h1>

            <p>Quais planetas tem luas com os nomes de personagens de Shakespeare e de figuras marítimas, respectivamente</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="certo">Urano e Netuno</option>
                <option value="errado">Netuno e Saturno</option>
                <option value="errado">Saturno e Urano</option>
                <option value="errado">Netuno e Urano</option>
            </select>
            `
        } else if (pergunta == 12) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 12</h1>

            <p>Qual é o outro planeta do Sistema Solar poderia abrigar vida, além da Terra?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Vênus</option>
                <option value="errado">Júpiter</option>
                <option value="certo">Marte</option>
            </select>
            `
        } else if (pergunta == 13) {
            acerto++
            tela.innerHTML = `
            <h1>PERGUNTA 13</h1>

            <p>Qual desses planetas tem uma lua maior que Mercúrio?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Saturno</option>
                <option value="errado">Marte</option>
                <option value="errado">Urano</option>
                <option value="certo">Júpiter</option>
            </select>
            `
        } else {
            acerto++

            if (acerto <= 5) {
                mensagem = `você precisa estudar um pouco mais!`
            } else if (acerto >= 11) {
                mensagem = `você está de parabéns!`
            } else {
                mensagem = `você está na média, se aprimore ainda mais!`
            }

            tela.innerHTML = `
            <h1>Você terminou!</h1>
            <label>Você acertou ${acerto}/13, ${mensagem}</label>
            <div class="botoes">
            <button onclick="repetir()">TENTAR DE NOVO</button>
            <button onclick="voltar()">ESTUDAR MAIS</button>
            </div>
            `
            mandarDados()
        }
    }

    function errou() {
        pergunta++

        if (pergunta == 1) {
            tela.innerHTML = `
            <h1>PERGUNTA 1</h1>

            <p>O Sol é uma bola de fogo?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Sim</option>
                <option value="certo">Não</option>
            </select>
            `
        } else if (pergunta == 2) {
            tela.innerHTML = `
            <h1>PERGUNTA 2</h1>

            <p>Qual o planeta mais quente do Sistema Solar?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Netuno</option>
                <option value="errado">Mercúrio</option>
                <option value="certo">Vênus</option>
                <option value="errado">Marte</option>
            </select>
            `
        } else if (pergunta == 3) {
            tela.innerHTML = `
            <h1>PERGUNTA 3</h1>

            <p>Qual o maior planeta do Sistema Solar?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Saturno</option>
                <option value="errado">Urano</option>
                <option value="certo">Júpiter</option>
            </select>
            `
        } else if (pergunta == 4) {
            tela.innerHTML = `
            <h1>PERGUNTA 4</h1>

            <p>Onde está localizada a maior montanha do Sistema Solar? E qual seu nome?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="certo">Marte, Monte Olimpo</option>
                <option value="errado">Vênus, Monte Vulcanico</option>
                <option value="errado">Terra, Monte Everest</option>
                <option value="errado">Mercúrio, Monte Everest</option>
            </select>
            `
        } else if (pergunta == 5) {
            tela.innerHTML = `
            <h1>PERGUNTA 5</h1>

            <p>Qual desses planetas têm mais luas?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Marte</option>
                <option value="certo">Saturno</option>
                <option value="errado">Netuno</option>
                <option value="errado">Júpiter</option>
            </select>
            `
        } else if (pergunta == 6) {
            tela.innerHTML = `
            <h1>PERGUNTA 6</h1>

            <p>Quantos planetas com anéis temos no Sistema Solar?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Apenas um</option>
                <option value="errado">Dois planetas</option>
                <option value="errado">Três planetas</option>
                <option value="certo">Quatro planetas</option>
                <option value="errado">Cinco planetas</option>
            </select>
            `
        } else if (pergunta == 7) {
            tela.innerHTML = `
            <h1>PERGUNTA 7</h1>

            <p>Qual desses planetas está mais distante do Sol?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Vênus</option>
                <option value="certo">Netuno</option>
                <option value="errado">Júpiter</option>
                <option value="errado">Urano</option>
            </select>
            `
        } else if (pergunta == 8) {
            tela.innerHTML = `
            <h1>PERGUNTA 8</h1>

            <p>Qual destes plantas é o mais frio?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="certo">Urano</option>
                <option value="errado">Netuno</option>
                <option value="errado">Terra</option>
                <option value="errado">Saturno</option>
            </select>
            `
        } else if (pergunta == 9) {
            tela.innerHTML = `
            <h1>PERGUNTA 9</h1>

            <p>Qual dessas carácteristicas pertence a Vênus?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">É um planeta gasoso</option>
                <option value="certo">Sua rotação é inversa aos outros planetas</option>
                <option value="errado">É o menor planeta do Sistema Solar</option>
            </select>
            `
        } else if (pergunta == 10) {
            tela.innerHTML = `
            <h1>PERGUNTA 10</h1>

            <p>Qual dessas características não é verdadeira sobre o Sistema Solar?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Todos os planetas gasoso têm anéis</option>
                <option value="errado">Vênus é o segundo planeta do sistema em relação ao Sol</option>
                <option value="certo">A grande mancha vermelha pertence a Marte</option>
                <option value="errado">O sistema possui 8 planetas</option>
            </select>
            `
        } else if (pergunta == 11) {
            tela.innerHTML = `
            <h1>PERGUNTA 11</h1>

            <p>Quais planetas tem luas com os nomes de personagens de Shakespeare e de figuras marítimas, respectivamente</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="certo">Urano e Netuno</option>
                <option value="errado">Netuno e Saturno</option>
                <option value="errado">Saturno e Urano</option>
                <option value="errado">Netuno e Urano</option>
            </select>
            `
        } else if (pergunta == 12) {
            tela.innerHTML = `
            <h1>PERGUNTA 12</h1>

            <p>Qual é o outro planeta do Sistema Solar poderia abrigar vida, além da Terra?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Vênus</option>
                <option value="errado">Júpiter</option>
                <option value="certo">Marte</option>
            </select>
            `
        } else if (pergunta == 13) {
            tela.innerHTML = `
            <h1>PERGUNTA 13</h1>

            <p>Qual desses planetas tem uma lua maior que Mercúrio?</p>

            <select id="selectResposta" onchange="escolheu()" class= "resposta">
                <option selected disabled hidden>RESPONDA!</option>
                <option value="errado">Saturno</option>
                <option value="errado">Marte</option>
                <option value="errado">Urano</option>
                <option value="certo">Júpiter</option>
            </select>
            `
        } else {

            if (acerto <= 5) {
                mensagem = `você precisa estudar um pouco mais!`
            } else if (acerto >= 11) {
                mensagem = `você está de parabéns!`
            } else {
                mensagem = `você está na média, se aprimore ainda mais!`
            }

            tela.innerHTML = `
            <h1>Você terminou!</h1>
            <label>Você acertou ${acerto}/13, ${mensagem}</label>
            <div class="botoes">
            <button onclick="repetir()">TENTAR DE NOVO</button>
            <button onclick="voltar()">ESTUDAR MAIS</button>
            </div>
            `

            mandarDados()
        }
    }

    function escolheu() {
        resposta = selectResposta.value

        if (resposta == 'certo') {
            acertou()
        } else {
            errou()
        }
    }

    function mandarDados() {
        var idEstudo = 1001;
        var idUsuario = sessionStorage.ID_USUARIO;

        fetch("/usuarios/mandarAcertos", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({
                // crie um atributo que recebe o valor recuperado aqui
                // Agora vá para o arquivo routes/usuario.js
                idEstudoServer: idEstudo,
                idUsuarioServer: idUsuario,
                acertosServer: acerto
            }),
        })
            .then(function (resposta) {
                console.log("resposta: ", resposta);
            })
            .catch(function (resposta) {
                console.log(`#ERRO: ${resposta}`);
            });
    }

</script>